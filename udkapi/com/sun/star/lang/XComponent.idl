/*************************************************************************
 *
 *  $RCSfile: XComponent.idl,v $
 *
 *  $Revision: 1.14 $
 *
 *  last change: $Author: mi $ $Date: 2003-01-21 13:16:39 $
 *
 *  The Contents of this file are made available subject to the terms of
 *  either of the following licenses
 *
 *         - GNU Lesser General Public License Version 2.1
 *         - Sun Industry Standards Source License Version 1.1
 *
 *  Sun Microsystems Inc., October, 2000
 *
 *  GNU Lesser General Public License Version 2.1
 *  =============================================
 *  Copyright 2000 by Sun Microsystems, Inc.
 *  901 San Antonio Road, Palo Alto, CA 94303, USA
 *
 *  This library is free software; you can redistribute it and/or
 *  modify it under the terms of the GNU Lesser General Public
 *  License version 2.1, as published by the Free Software Foundation.
 *
 *  This library is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 *  Lesser General Public License for more details.
 *
 *  You should have received a copy of the GNU Lesser General Public
 *  License along with this library; if not, write to the Free Software
 *  Foundation, Inc., 59 Temple Place, Suite 330, Boston,
 *  MA  02111-1307  USA
 *
 *
 *  Sun Industry Standards Source License Version 1.1
 *  =================================================
 *  The contents of this file are subject to the Sun Industry Standards
 *  Source License Version 1.1 (the "License"); You may not use this file
 *  except in compliance with the License. You may obtain a copy of the
 *  License at http://www.openoffice.org/license.html.
 *
 *  Software provided under this License is provided on an "AS IS" basis,
 *  WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING,
 *  WITHOUT LIMITATION, WARRANTIES THAT THE SOFTWARE IS FREE OF DEFECTS,
 *  MERCHANTABLE, FIT FOR A PARTICULAR PURPOSE, OR NON-INFRINGING.
 *  See the License for the specific provisions governing your rights and
 *  obligations concerning the Software.
 *
 *  The Initial Developer of the Original Code is: Sun Microsystems, Inc.
 *
 *  Copyright: 2000 by Sun Microsystems, Inc.
 *
 *  All Rights Reserved.
 *
 *  Contributor(s): _______________________________________
 *
 *
 ************************************************************************/
#ifndef __com_sun_star_lang_XComponent_idl__ 
#define __com_sun_star_lang_XComponent_idl__ 
 
#ifndef __com_sun_star_uno_XInterface_idl__ 
#include <com/sun/star/uno/XInterface.idl> 
#endif 
 
//============================================================================= 
 
module com {  module sun {  module star {  module lang {  
 
interface XEventListener; 
 
//============================================================================= 
 
// DocMerge from xml: interface com::sun::star::lang::XComponent
/** allows to exclicitly free resources and break cyclic references.
    
    <p>Actually the real lifetime of an UNO object is controlled by 
    references kept on interfaces of this object. But there are two
    distinct meanings in keeping a reference to an interface:
    1st to own the object and 2nd to know the object.
    
    <p>You are only allowed to keep references of interfaces
    to UNO objects if you are by definition the owner of that object or
    your reference is very temporary or you have registered an
    EventListener at that object and release the reference when
    "disposing" is called.</p>
 */
interface XComponent: com::sun::star::uno::XInterface
{ 
    //------------------------------------------------------------------------- 
     
    // DocMerge from xml: method com::sun::star::lang::XComponent::dispose
    /** The owner of an object calls this method to explicitly free all
        resources kept by this object and thus break cyclic references.

        <p>Only the owner of this object is allowed to call this method.
        The object should release all resources and references in the
        easiest possible manner ( for instance no serialization should
        take place anymore ).
        </p>
        <p>
        The object must notify all registered listeners using the method
        <member>XEventListener::disposing</member>. All notfied objects
        should release there references to this object without
        calling <member>XComponent::removeEventListener</member>
        (the disposed object will release the listeners eitherway).
        </p>

        <p>After this method has been called, the object should behave as passive
        as possible, thus it should ignore all calls 
        in case it can comply with its specification (for instance addEventListener()).
        Often the object can't fulfill its specification anymore,
        in this case it must throw the <type>DisposedException</type>
        (which is derived from <type scope="com::sun::star::uno">RuntimeException</type>) 
    when it gets called.</p>

        <p>For some objects no real owner can be identified, thus it can be
        disposed from multiple reference holders. In this case
        the object should be able to cope with multiple dispose()-calls (which
        are inevitable in a multithreaded environment).
     */
    void dispose(); 
 
    //------------------------------------------------------------------------- 
     
    // DocMerge from xml: method com::sun::star::lang::XComponent::addEventListener
    /** adds an event listener to the object. 
        
        <p>The broadcaster fires the disposing method of this listener 
        if the <member>XComponent::dispose</member> method is called.</p>

        <p>It is suggested to allow multiple registration of the same listener,
        thus for each time a listener is added, it has to be removed.</p>

        <p>If this <type scope="com::sun::star::lang">XComponent</type> is
        already disposed when <member scope="com::sun::star::lang">
        XComponent::addEventListener</member> is called, the call will not fail
        with a <type scope="com::sun::star::lang">DisposedException</type>, but
        the caller will be notified via the
        <member scope="com::sun::star::lang">XEventListener::disposing</member>
        callback.  This callback can occur synchronously within the
        <member scope="com::sun::star::lang">XComponent::addEventListener
        </member> call.</p>

        @see XComponent::removeEventListener
     */
    void addEventListener( [in] XEventListener xListener ); 
 
    //------------------------------------------------------------------------- 
     
    // DocMerge from xml: method com::sun::star::lang::XComponent::removeEventListener
    /** removes an event listener from the listener list.

        <p>It is a "noop" if the specified listener is not registered.</p>

        <p>It is suggested to allow multiple registration of the same listener,
        thus for each time a listener is added, it has to be removed.

        <p>If this <type scope="com::sun::star::lang">XComponent</type> is
        already disposed when <member scope="com::sun::star::lang">
        XComponent::removeEventListener</member> is called, the call will not
        fail with a <type scope="com::sun::star::lang">DisposedException</type>,
        but will rather be ignored silently.</p>

        @see XComponent::addEventListener
     */
    void removeEventListener( [in] XEventListener aListener ); 
 
}; 
 
//============================================================================= 
 
}; }; }; };  
 
/*============================================================================= 
 
    $Log: not supported by cvs2svn $
    Revision 1.12  2002/12/10 10:31:33  mi
    #105668# fixed dead links
    
    Revision 1.11  2002/12/06 13:26:40  sb
    #105668#, #105983# Clarified documentation.
    
    Revision 1.10  2002/08/05 09:33:56  mi
    add/remove...Listener more precisely specified for adding the same interface multiple times
    
    Revision 1.9  2002/01/18 13:39:36  jbu
    #96701# API review
    
    Revision 1.8  2001/11/16 14:57:39  mi
    proofing by Richard Holt
    
    Revision 1.7  2001/03/16 15:10:37  jsc
    remove interfaceheader with uik and remove [const] in method definitions
    
    Revision 1.6  2000/12/19 16:15:26  mi
    documentation syntax fixed
    
    Revision 1.5  2000/12/13 15:47:01  mi
    symtactical documentation and minor semantic documentation flaws fixed
    
    Revision 1.4  2000/11/08 12:28:41  mi
    moved from api
    
    Revision 1.1.1.1  2000/09/18 23:35:25  hjs
    initial import
    
    Revision 1.6  2000/09/11 11:52:33  mi
    documentation merged from XML
     
    Revision 1.4  2000/02/23 11:41:16  mi 
    results from proofreading in layouted version 
     
    Revision 1.3  2000/02/07 11:24:39  mi 
    zu #70728# missing documentation marked 
     
    Revision 1.2  1999/11/18 11:49:57  mi 
    XComponent now in module lang 
     
    Revision 1.1  1999/11/18 10:34:02  mi 
    XComponent now in module lang 
     
    Revision 1.1.1.1  1999/11/11 09:48:41  jsc 
    new 
     
 
=============================================================================*/ 
#endif 
