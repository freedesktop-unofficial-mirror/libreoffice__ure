#*************************************************************************
#
#   $RCSfile: README,v $
#
#   $Revision: 1.4 $
#
#   last change: $Author: sb $ $Date: 2005-06-10 13:48:08 $
#
#   The Contents of this file are made available subject to the terms of
#   either of the following licenses
#
#          - GNU Lesser General Public License Version 2.1
#          - Sun Industry Standards Source License Version 1.1
#
#   Sun Microsystems Inc., October, 2000
#
#   GNU Lesser General Public License Version 2.1
#   =============================================
#   Copyright 2000 by Sun Microsystems, Inc.
#   901 San Antonio Road, Palo Alto, CA 94303, USA
#
#   This library is free software; you can redistribute it and/or
#   modify it under the terms of the GNU Lesser General Public
#   License version 2.1, as published by the Free Software Foundation.
#
#   This library is distributed in the hope that it will be useful,
#   but WITHOUT ANY WARRANTY; without even the implied warranty of
#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
#   Lesser General Public License for more details.
#
#   You should have received a copy of the GNU Lesser General Public
#   License along with this library; if not, write to the Free Software
#   Foundation, Inc., 59 Temple Place, Suite 330, Boston,
#   MA  02111-1307  USA
#
#
#   Sun Industry Standards Source License Version 1.1
#   =================================================
#   The contents of this file are subject to the Sun Industry Standards
#   Source License Version 1.1 (the "License"); You may not use this file
#   except in compliance with the License. You may obtain a copy of the
#   License at http://www.openoffice.org/license.html.
#
#   Software provided under this License is provided on an "AS IS" basis,
#   WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING,
#   WITHOUT LIMITATION, WARRANTIES THAT THE SOFTWARE IS FREE OF DEFECTS,
#   MERCHANTABLE, FIT FOR A PARTICULAR PURPOSE, OR NON-INFRINGING.
#   See the License for the specific provisions governing your rights and
#   obligations concerning the Software.
#
#   The Initial Developer of the Original Code is: Sun Microsystems, Inc.
#
#   Copyright: 2005 by Sun Microsystems, Inc.
#
#   All Rights Reserved.
#
#   Contributor(s): _______________________________________
#
#
#*************************************************************************


This directory contains test files for the UNO Runtime Environment (URE) as well
as the Makefile and Makefile.pln makefiles.  To execute the makefiles, you need
GNU make 3.80 or later.


Makefile
--------

Before you execute Makefile, you need to configure the Software Development Kit
(SDK) environment to work with a URE installation, a C++ compiler, and a JDK.
For more information, read the .../docs/install.html file in the SDK
installation.

NOTE: On Linux x86, if the Makefile accesses a GCC that is incompatible with the
GCC that was used to build the URE, use the GCCS_COMPAT environment variable as
a workaround.  For more details, see the UDK README file.


Makefile.pln
------------

You can only run Makefile.pln on Linux x86.  You do not need to configure your
SDK environment to use this makefile, however, you do need to set the following
environment variables:

- SDK_HOME
Points to the base directory of an OpenOffice.org SDK so that you can access UNO
programming tools and files that are not part of the URE.  For example, idlc,
cppumaker, javamaker, UNOIDL files, and C++ headers.

- PATH
Points to a GCC installation (including g++) as well as a JDK installation that
contains the java, javac, and jar executables.  For the minimum version
requirements, see the SDK Installation Guide ($SDK_HOME/docs/install.html).

- URE_HOME (optional)
Overwrites the default URE location, that is, /opt/openoffice.org/ure.

- GXX_INCLUDE_PATH (optional)
Overwrites the default location of the GCC C++ headers (/usr/include/g++).  This
information is needed by the STLport included in the URE.

- GCCS_COMPAT (optional)
Fixes incompatibility issues between the GCC that was used to build the URE and
the GCC that Makefile.pln accesses.  For more details, see the UDK README file.


Tests
-----

Makefile and Makefile.pln can execute the following tests:

- test-cpptest
Builds a C++ UNO component, cppmain.uno, and runs the component with the uno
executable.  The component first attempts to instantiate all the UNO services
and singletons that are part of the URE installation.  The component then tries
to instantiate and to call another C++ UNO component (ccptest.uno) as well as a
Java UNO component (javatest.uno).  The test completes when these components
throw a special exception that is caught by cppmain.uno.

- test-javatest
Builds a Java UNO component, javamain.uno, and runs the component with the uno
executable.  The component tries to instantiate and to call a C++ UNO component
(cpptest.uno) as well as a Java UNO component (javatest.uno).  The test
completes when these components throw a special exception that is caught by
javamain.uno.

- test-clientserver
Builds a server C++ UNO component, cppserver.uno, and a client Java UNO
component, javaclient.uno.  The uno executable runs the cppserver.uno component
which listens on a pipe connection.  The java executable runs the javaclient.uno
component which connects to the server after a five second pause so that the
server has enough time to start.

- test-regview (Makefile.pln only)
Checks that the regview executable of the URE installation works reliably.

NOTE: The files that are generated when Makefile and Makefile.pln execute are
saved to different local directories.  Makefile outputs the generated files to
./out.sdk whereas Makefile.pln outputs the files to ./out.pln.
